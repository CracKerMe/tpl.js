/*! tpl.js (c) 2013 Jony Zhang <zj86@live.cn>, MIT Licensed
 */
(function(n,e){"function"==typeof define&&define.amd||n.seajs?define(e):e()})(this,function(){function n(n){return n.trim?n.trim():n.replace(/^\s*|\s*$/g,"")}function e(n){return n.replace(/('|\\)/g,"\\$1")}function t(n,e){"#"===n.charAt(0)&&-1===n.indexOf("<")&&(n=document.getElementById(n.substring(1)).innerHTML);var t=new i(n);return e?t.render(e):t}function i(n){this._init(n)}return i.prototype={scope:"$",begin:"<%",end:"%>",_init:function(t){if(t){for(var i,r,c=this,o="var "+c.scope+"=this,__='';",u=c.begin.length,s=c.end.length,f=t.indexOf(c.begin);f>=0&&(i=t.indexOf(c.end),!(f>i));)o+="__+='"+e(t.substring(0,f))+"';",r=n(t.substring(f+u,i)),o+=0===r.indexOf("=")?"__+="+r.substring(1)+";":r,t=t.substring(i+s),f=t.indexOf(c.begin);o+="__+='"+e(t)+"';"+"return __;",o=o.replace(/\n/g,""),c.compiler=Function(o)}},render:function(n){return n&&"[object Object]"===Object.prototype.toString.call(n)?this.compiler.call(n):void 0}},t});