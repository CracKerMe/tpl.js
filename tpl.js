/*! tpl.js (c) 2013 Jony Zhang, //github.com/niceue/tpl.js */
(function(n,e){"function"==typeof define&&define.amd||n.seajs?define(e):e()})(this,function(){function n(n){return n.trim?n.trim():n.replace(/^\s*|\s*$/g,"")}function e(n){return n.replace(/('|\\)/g,"\\$1")}function i(n,e){"#"===n.charAt(0)&&-1===n.indexOf("<")&&(n=document.getElementById(n.substring(1)).innerHTML);var i=new t(n);return e?i.render(e):i}function t(n){this._init(n)}return t.prototype={scope:"$",begin:"<%",end:"%>",_init:function(i){if(i){for(var t,r,s=this,u="var "+s.scope+"=this,__='',echo=function(s){__+=s};",c=s.begin.length,f=s.end.length,o=i.indexOf(s.begin);o>=0&&(t=i.indexOf(s.end),!(o>t));)u+="__+='"+e(i.substring(0,o))+"';",r=n(i.substring(o+c,t)),u+=0===r.indexOf("=")?"__+="+r.substring(1)+";":r,i=i.substring(t+f),o=i.indexOf(s.begin);u+="__+='"+e(i)+"';"+"return __;",u=u.replace(/\n/g,""),s.compiler=Function(u)}},render:function(n){return this.compiler.call(n||{})}},i});